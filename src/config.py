"""
config.py

应用程序的全局配置中心。
将所有可调参数、路径和常量集中在此处，便于统一管理和修改，
避免在代码中出现“魔法数字”。
"""

# ==============================================================================
# 文件与路径配置
# ==============================================================================
# YOLOv5 ONNX 模型文件的路径。程序将从此路径加载模型。
MODEL_PATH = "src/best.onnx"
# 存放待分析图片的文件夹路径。
IMAGE_FOLDER_PATH = "Data"

# ==============================================================================
# YOLOv5 模型配置
# ==============================================================================
# YOLOv5 模型预处理时，输入图像的标准尺寸。
YOLO_INPUT_WIDTH = 640
YOLO_INPUT_HEIGHT = 640

# 目标检测的置信度阈值。只有当检测结果的置信度高于此值时，才被认为是有效检测。
YOLO_CONF_THRESHOLD = 0.25

# 非极大值抑制（NMS）的IoU（交并比）阈值。用于合并重叠度过高的检测框。
YOLO_IOU_THRESHOLD = 0.45

# 模型的类别名称列表。顺序必须与模型训练时完全一致。
CLASS_NAMES = ['lock', 'key']

# ==============================================================================
# 角度识别配置
# ==============================================================================
# 在角度识别模块中，用于将灰度图转换为二值图的阈值。
ANGLE_PREPROCESS_THRESHOLD = 20

# 用于判断 is_lock_original (锁孔是否归位) 的角度界限（单位：度）。
# 如果计算出的旋转角度绝对值小于此值，则认为锁孔已归位。
ANGLE_RESET_THRESHOLD = 5.0

# ==============================================================================
# 距离计算配置
# ==============================================================================
# 距离估算对数公式: distance = A * log(1/sqrt(w*h)) + B
# 通过实验数据拟合得到的参数 A。
DISTANCE_PARAM_A = 18.5910
# 通过实验数据拟合得到的参数 B。
DISTANCE_PARAM_B = 107.7396